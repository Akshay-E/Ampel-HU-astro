# File              : Ampel-contrib-HU/conf/ampel-contrib-hu/process/CosmologySummary.yaml
# License           : BSD-3-Clause
# Author            : jNo
# Date              : 06.03.2020
# Last Modified Date: 11.08.2020
# Last Modified By  : Jakob van Santen <jakob.van.santen@desy.de>

# This channel is meant for ....
# More details here

# Name of this process
name: CosmologySummary

# Process is triggered once a day because...
schedule: every().day.at('13:00')

# mandatory argument
tier: 3

# select transients modified since last run
template: ztf_periodic_summary

# Specifies which transients should be loaded
channel:
  any_of: [HU_GP_10, HU_GP_59, HU_TNS_MSIP]

# Specifies which documents to load for each transient
load:
  - TRANSIENT
  - COMPOUND
  - DATAPOINT
  - col: t2
    query_complement:
      unit:
        $in: [T2SNCosmo, T2CatalogMatch, T2QSOFit]

# Specifies which action should be performed on transients
run:
  unit: SlackSummaryPublisher
  config: slack-ztf_general
  override:
    slack_channel: '#ztf_cosmosne'
    excitement:
      Low: 10
      Mid: 100
      High: 300
    quiet: false
